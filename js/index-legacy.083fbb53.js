(function(){"use strict";var e={2478:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var i=n(9242),r=n(3396),o=function(e){return(0,r.dD)("data-v-55f3e3ac"),e=e(),(0,r.Cn)(),e},u=o((function(){return(0,r._)("ul",null,[(0,r._)("li",null,[(0,r._)("a",{href:"/"},[(0,r._)("img",{class:"logo",src:"/Logo-64.png",alt:"Logo"})])])],-1)})),a={class:"nav-links"};function l(e,t){var n=(0,r.up)("router-link"),i=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("header",null,[(0,r._)("nav",null,[u,(0,r._)("ul",a,[(0,r._)("li",null,[(0,r.Wm)(n,{to:"/"},{default:(0,r.w5)((function(){return[(0,r.Uk)("Home")]})),_:1})]),(0,r._)("li",null,[(0,r.Wm)(n,{to:"/about"},{default:(0,r.w5)((function(){return[(0,r.Uk)("About")]})),_:1})])])])]),(0,r._)("main",null,[(0,r.Wm)(i,null,{default:(0,r.w5)((function(e){var t=e.Component;return[((0,r.wg)(),(0,r.j4)(r.Ob,null,[((0,r.wg)(),(0,r.j4)((0,r.LL)(t)))],1024))]})),_:1})])],64)}var s=n(89);const c={},p=(0,s.Z)(c,[["render",l],["__scopeId","data-v-55f3e3ac"]]);var d=p,h=(n(1539),n(8783),n(3948),n(2483)),f=(n(9600),n(7042),n(8309),{class:"generator"}),m={class:"settings"},g=["value"],y={class:"generator-btns"},v=["href","download"],w={key:1,type:"button",disabled:""};function x(e,t,n,i,o,u){var a,l=(0,r.up)("GeneratorSettings"),s=(0,r.up)("StlViewer"),c=(0,r.up)("ModalWindow");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",f,[(0,r._)("div",m,[(0,r._)("label",null,[(0,r.Uk)(" Image "),(0,r._)("input",{type:"file",onChange:t[0]||(t[0]=function(){return e.loadFile&&e.loadFile.apply(e,arguments)}),accept:".jpeg,.jpg,.png,.gif"},null,32)]),(0,r.Wm)(l,{xExpression:e.xExpression,"onUpdate:xExpression":t[1]||(t[1]=function(t){return e.xExpression=t}),yExpression:e.yExpression,"onUpdate:yExpression":t[2]||(t[2]=function(t){return e.yExpression=t}),zExpression:e.zExpression,"onUpdate:zExpression":t[3]||(t[3]=function(t){return e.zExpression=t}),onUpdatePreview:t[4]||(t[4]=function(t){e.generatePreview(100),e.maybeShowLithophane()}),imageWidth:e.imageWidth,imageHeight:e.imageHeight},null,8,["xExpression","yExpression","zExpression","imageWidth","imageHeight"]),(0,r._)("label",null,[(0,r.Uk)(" File Size: "),(0,r._)("input",{disabled:"",value:null===e.lithophaneSize?null:e.prettyBytes(e.lithophaneSize)},null,8,g)]),(0,r._)("div",y,[(0,r._)("button",{type:"button",onClick:t[5]||(t[5]=function(){return e.generateLithophane&&e.generateLithophane.apply(e,arguments)})},"Generate Lithophane"),e.showLithophane&&null!==e.lithophaneUrl?((0,r.wg)(),(0,r.iD)("a",{key:0,role:"button",href:e.lithophaneUrl,download:"".concat(null===(a=e.file)||void 0===a?void 0:a.name.split(".").slice(0,-1).join("."),".stl")}," Download Lithophane ",8,v)):((0,r.wg)(),(0,r.iD)("button",w,"Download Lithophane"))])]),(0,r.Wm)(s,{class:"model-viewer",stl:e.stlModel,color:e.stlColor,doubleSided:e.stlDoubleSided},null,8,["stl","color","doubleSided"])]),(0,r.Wm)(c,{show:e.showSizeWarningModal,onClose:t[6]||(t[6]=function(t){return e.showSizeWarningModal=!1})},{title:(0,r.w5)((function(){return[(0,r.Uk)(" Large Image ")]})),body:(0,r.w5)((function(){return[(0,r.Uk)(" Large images can cause the lithophane to take much longer to generate, and can increase the STL file size significantly. Using higher resolution images for lithophanes quickly runs into diminishing returns, since 3D printers can only achieve so much detail. Consider lowering the resolution of your image before using it to generate a lithophane. ")]})),_:1},8,["show"])],64)}var b=n(3336),_=(n(285),n(1637),n(8264),n(9575),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(3408),n(2958),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(3767),n(8585),n(8696),{class:"config-preset-container"}),E={class:"config-presets"},k={class:"config-preset-settings"},z=["value","disabled"],W=["value","disabled"],S=["value","disabled"];function U(e,t,n,i,o,u){var a=(0,r.up)("VerticalSlideTransition");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",_,[(0,r._)("div",E,[(0,r._)("button",{type:"button",onClick:t[0]||(t[0]=function(t){return e.settingsType="RectangleSettings"})},"Rectangle"),(0,r._)("button",{type:"button",onClick:t[1]||(t[1]=function(t){return e.settingsType="CylinderCurveSettings"})},"Cylinder Curve"),(0,r._)("button",{type:"button",onClick:t[2]||(t[2]=function(t){return e.settingsType=null})},"Custom")]),((0,r.wg)(),(0,r.j4)(r.Ob,null,[(0,r.Wm)(a,{showIf:null!==e.settingsType,hide:!0,mode:"out-in"},{default:(0,r.w5)((function(){return[(0,r._)("div",k,[((0,r.wg)(),(0,r.j4)(r.Ob,null,[((0,r.wg)(),(0,r.j4)((0,r.LL)(e.settingsType),{imageWidth:e.imageWidth,imageHeight:e.imageHeight,"onUpdate:xExpression":t[3]||(t[3]=function(t){return e.$emit("update:xExpression",t)}),"onUpdate:yExpression":t[4]||(t[4]=function(t){return e.$emit("update:yExpression",t)}),"onUpdate:zExpression":t[5]||(t[5]=function(t){return e.$emit("update:zExpression",t)}),onUpdatePreview:t[6]||(t[6]=function(t){return e.$emit("updatePreview")})},null,40,["imageWidth","imageHeight"]))],1024))])]})),_:1},8,["showIf"])],1024))]),(0,r._)("label",null,[(0,r.Uk)(" X Expression: "),(0,r._)("input",{value:e.xExpression,disabled:null!==e.settingsType,onInput:t[7]||(t[7]=function(t){return e.$emit("update:xExpression",t.target.value)}),onFocusout:t[8]||(t[8]=function(t){return e.$emit("updatePreview")})},null,40,z)]),(0,r._)("label",null,[(0,r.Uk)(" Y Expression: "),(0,r._)("input",{value:e.yExpression,disabled:null!==e.settingsType,onInput:t[9]||(t[9]=function(t){return e.$emit("update:yExpression",t.target.value)}),onFocusout:t[10]||(t[10]=function(t){return e.$emit("updatePreview")})},null,40,W)]),(0,r._)("label",null,[(0,r.Uk)(" Z Expression: "),(0,r._)("input",{value:e.zExpression,disabled:null!==e.settingsType,onInput:t[11]||(t[11]=function(t){return e.$emit("update:zExpression",t.target.value)}),onFocusout:t[12]||(t[12]=function(t){return e.$emit("updatePreview")})},null,40,S)])],64)}var P=n(124),R=n(8534),L=n(5082),H=(n(9653),{class:"horizontal-fieldset"}),C=(0,r._)("legend",null,"Plane:",-1),O=["value"],$=["value"];function A(e,t,n,o,u,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("fieldset",H,[C,(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"radio",value:"xy","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.plane=t}),onFocusout:t[1]||(t[1]=function(t){return e.$emit("updatePreview")})},null,544),[[i.G2,e.plane]]),(0,r.Uk)(" XY ")]),(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"radio",value:"xz","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.plane=t}),onFocusout:t[3]||(t[3]=function(t){return e.$emit("updatePreview")})},null,544),[[i.G2,e.plane]]),(0,r.Uk)(" XZ ")]),(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"radio",value:"yz","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.plane=t}),onFocusout:t[5]||(t[5]=function(t){return e.$emit("updatePreview")})},null,544),[[i.G2,e.plane]]),(0,r.Uk)(" YZ ")])]),(0,r._)("label",null,[(0,r.Uk)(" Horizontal Resolution (mm/px): "),(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.hRes=t}),onInput:t[7]||(t[7]=function(){return e.recalculate&&e.recalculate.apply(e,arguments)}),onFocusout:t[8]||(t[8]=function(t){return e.$emit("updatePreview")})},null,544),[[i.nr,e.hRes]])]),(0,r._)("label",null,[(0,r.Uk)(" Vertical Resolution (mm/px): "),(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.vRes=t}),onInput:t[10]||(t[10]=function(){return e.recalculate&&e.recalculate.apply(e,arguments)}),onFocusout:t[11]||(t[11]=function(t){return e.$emit("updatePreview")})},null,544),[[i.nr,e.vRes]])]),(0,r._)("label",null,[(0,r.Uk)(" Width (mm): "),(0,r._)("input",{type:"number",disabled:"",value:e.width,onFocusout:t[12]||(t[12]=function(t){return e.$emit("updatePreview")})},null,40,O)]),(0,r._)("label",null,[(0,r.Uk)(" Height (mm): "),(0,r._)("input",{type:"number",disabled:"",value:e.height,onFocusout:t[13]||(t[13]=function(t){return e.$emit("updatePreview")})},null,40,$)])],64)}n(1703),n(6647),n(3299);function j(e){if(!e)throw new Error("Assertion failed")}function I(e,t){var n;return t=null!==(n=t)&&void 0!==n?n:0,Math.round((e+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t)}function T(e,t){return t in e}var Z=(0,r.aZ)({props:{imageWidth:{type:Number},imageHeight:{type:Number}},data:function(){return{plane:"yz",hRes:.1,vRes:.1}},activated:function(){this.recalculate()},computed:{imgXAxis:function(){return{xy:"x",xz:"x",yz:"y"}[this.plane]},imgYAxis:function(){return{xy:"y",xz:"z",yz:"z"}[this.plane]},imgDepthAxis:function(){return{xy:"z",xz:"y",yz:"x"}[this.plane]},width:function(){return this.imageWidth?I((this.imageWidth-1)*this.hRes,4):null},height:function(){return this.imageHeight?I((this.imageHeight-1)*this.vRes,4):null}},methods:{recalculate:function(){var e={x:"",y:"",z:""};e[this.imgDepthAxis]="0",e[this.imgXAxis]="x/".concat(1/this.hRes),e[this.imgYAxis]="(h-y-1)/".concat(1/this.vRes),this.$emit("update:xExpression",e.x),this.$emit("update:yExpression",e.y),this.$emit("update:zExpression",e.z)}},emits:["update:xExpression","update:yExpression","update:zExpression","updatePreview"],watch:{plane:function(){this.recalculate()}}});const D=(0,s.Z)(Z,[["render",A]]);var M=D,F=n(7139),B={class:"horizontal-fieldset"},V=(0,r._)("legend",null,"Axis of Rotation:",-1),Y=["value"],N=["value"],q=["value"],G=["value"],X=["value"];function K(e,t,n,o,u,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("fieldset",B,[V,(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"radio",value:"x","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.axisOfRotation=t}),onChange:t[1]||(t[1]=function(){return e.recalculate&&e.recalculate.apply(e,arguments)}),onFocusout:t[2]||(t[2]=function(t){return e.$emit("updatePreview")})},null,544),[[i.G2,e.axisOfRotation]]),(0,r.Uk)(" X ")]),(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"radio",value:"y","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.axisOfRotation=t}),onChange:t[4]||(t[4]=function(){return e.recalculate&&e.recalculate.apply(e,arguments)}),onFocusout:t[5]||(t[5]=function(t){return e.$emit("updatePreview")})},null,544),[[i.G2,e.axisOfRotation]]),(0,r.Uk)(" Y ")]),(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"radio",value:"z","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.axisOfRotation=t}),onChange:t[7]||(t[7]=function(){return e.recalculate&&e.recalculate.apply(e,arguments)}),onFocusout:t[8]||(t[8]=function(t){return e.$emit("updatePreview")})},null,544),[[i.G2,e.axisOfRotation]]),(0,r.Uk)(" Z ")])]),(0,r._)("label",null,[(0,r.Uk)(" Horizontal Resolution (mm/px): "),(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.hRes=t}),onInput:t[10]||(t[10]=function(){return e.recalculate&&e.recalculate.apply(e,arguments)}),onFocusout:t[11]||(t[11]=function(t){return e.$emit("updatePreview")})},null,544),[[i.nr,e.hRes]])]),(0,r._)("label",null,[(0,r.Uk)(" Vertical Resolution (mm/px): "),(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=function(t){return e.vRes=t}),onInput:t[13]||(t[13]=function(){return e.recalculate&&e.recalculate.apply(e,arguments)}),onFocusout:t[14]||(t[14]=function(t){return e.$emit("updatePreview")})},null,544),[[i.nr,e.vRes]])]),(0,r._)("label",null,[(0,r.Uk)(" Arc (degrees): "+(0,F.zw)(e.arc)+" ",1),(0,r.wy)((0,r._)("input",{type:"range",min:"1",max:"360","onUpdate:modelValue":t[15]||(t[15]=function(t){return e.arc=t}),onInput:t[16]||(t[16]=function(){return e.recalculate&&e.recalculate.apply(e,arguments)}),onFocusout:t[17]||(t[17]=function(t){return e.$emit("updatePreview")})},null,544),[[i.nr,e.arc]])]),(0,r._)("label",null,[(0,r.Uk)(" Inner Radius (mm): "),(0,r._)("input",{type:"number",disabled:"",value:e.round(e.radius,4)},null,8,Y)]),(0,r._)("label",null,[(0,r.Uk)(" Inner Arc Length (mm): "),(0,r._)("input",{type:"number",disabled:"",value:e.round(e.arcLength,4)},null,8,N)]),(0,r._)("label",null,[(0,r.Uk)(" Inner Width (mm): "),(0,r._)("input",{type:"number",disabled:"",value:e.round(e.width,4)},null,8,q)]),(0,r._)("label",null,[(0,r.Uk)(" Inner Depth (mm): "),(0,r._)("input",{type:"number",disabled:"",value:e.round(e.depth,4)},null,8,G)]),(0,r._)("label",null,[(0,r.Uk)(" Height (mm): "),(0,r._)("input",{type:"number",disabled:"",value:e.round(e.height,4)},null,8,X)])],64)}n(2222);var J=(0,r.aZ)({props:{imageWidth:{type:Number},imageHeight:{type:Number}},data:function(){return{axisOfRotation:"z",hRes:.1,vRes:.1,arc:120,recalculations:0}},activated:function(){this.recalculate()},computed:{firstAxis:function(){return{x:"y",y:"z",z:"x"}[this.axisOfRotation]},secondAxis:function(){return{x:"z",y:"x",z:"y"}[this.axisOfRotation]},radius:function(){return this.imageWidth?180*(this.imageWidth-1)/this.arc/Math.PI*this.hRes:null},arcLength:function(){return this.imageWidth?(this.imageWidth-1)*this.hRes:null},width:function(){return this.imageWidth&&null!==this.radius?this.arc<=180?2*this.radius*Math.sin(this.arc/2/180*Math.PI):2*this.radius:null},depth:function(){return this.imageWidth&&null!==this.radius?this.radius*(1-Math.cos(this.arc/2/180*Math.PI)):null},height:function(){return this.imageHeight?(this.imageHeight-1)*this.vRes:null}},methods:{recalculate:function(){var e={x:"",y:"",z:""},t="pi*(x/(w-1)*".concat(this.arc," + ").concat((180-this.arc)/2,")/180"),n="(w-1)*180/".concat(this.arc,"/pi/").concat(1/this.hRes);this.arc<180?e[this.firstAxis]="(sin(".concat(t,") - sin(pi*").concat((180-this.arc)/2,"/180))*").concat(n):e[this.firstAxis]="sin(".concat(t,")*").concat(n),e[this.secondAxis]="-cos(".concat(t,")*").concat(n),e[this.axisOfRotation]="(h-y-1)/".concat(1/this.vRes),this.$emit("update:xExpression",e.x),this.$emit("update:yExpression",e.y),this.$emit("update:zExpression",e.z)},round:I},emits:["update:xExpression","update:yExpression","update:zExpression","updatePreview"]});const Q=(0,s.Z)(J,[["render",K]]);var ee=Q,te={key:0,ref:"el",class:"slide-container"};function ne(e,t,n,o,u,a){return(0,r.wg)(),(0,r.j4)(i.uT,{name:"slide-transition"},{default:(0,r.w5)((function(){return[e.showIf||e.hide?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",te,[(0,r.WI)(e.$slots,"default",{},void 0,!0)],512)),[[i.F8,e.showIf||!e.hide]]):(0,r.kq)("",!0)]})),_:3})}var ie=(0,r.aZ)({props:{showIf:{type:Boolean,required:!0},hide:{type:Boolean,default:!1}},watch:{showIf:function(e){var t=this;return(0,R.Z)((0,P.Z)().mark((function n(){var i;return(0,P.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,(0,r.Y3)();case 3:i=t.$refs.el,j(i instanceof HTMLDivElement),i.style.setProperty("--transition-height","".concat(i.scrollHeight,"px"));case 6:case"end":return n.stop()}}),n)})))()}}}),re=ie;const oe=(0,s.Z)(re,[["render",ne],["__scopeId","data-v-7a9e58ec"]]);var ue=oe,ae={RectangleSettings:M,CylinderCurveSettings:ee},le=(0,r.aZ)({components:(0,L.Z)((0,L.Z)({},ae),{},{VerticalSlideTransition:ue}),props:{xExpression:{type:String,default:""},yExpression:{type:String,default:""},zExpression:{type:String,default:""},imageWidth:{type:Number},imageHeight:{type:Number}},data:function(){return{settingsType:"RectangleSettings"}},emits:["update:xExpression","update:yExpression","update:zExpression","updatePreview"],watch:{settingsType:function(){var e=this;return(0,R.Z)((0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.Y3)();case 2:e.$emit("updatePreview");case 3:case"end":return t.stop()}}),t)})))()}}});const se=(0,s.Z)(le,[["render",U],["__scopeId","data-v-e32718e0"]]);var ce=se,pe={class:"stl-viewer"};function de(e,t,n,i,o,u){var a=(0,r.up)("Camera"),l=(0,r.up)("PointLight"),s=(0,r.up)("AmbientLight"),c=(0,r.up)("StlMesh"),p=(0,r.up)("AxesHelper"),d=(0,r.up)("Scene"),h=(0,r.up)("Renderer");return(0,r.wg)(),(0,r.iD)("div",pe,[(0,r.Wm)(h,{orbitCtrl:"",resize:""},{default:(0,r.w5)((function(){return[(0,r.Wm)(a,{position:{x:100,y:100,z:100}}),(0,r.Wm)(d,{background:"#000000"},{default:(0,r.w5)((function(){return[(0,r.Wm)(l,{color:"#ffffff",position:{x:5e5,y:5e5,z:5e5},intensity:.25}),(0,r.Wm)(l,{color:"#ffffff",position:{x:5e5,y:-5e5,z:5e5},intensity:.25}),(0,r.Wm)(l,{color:"#ffffff",position:{x:-5e5,y:5e5,z:5e5},intensity:.25}),(0,r.Wm)(l,{color:"#ffffff",position:{x:-5e5,y:-5e5,z:5e5},intensity:.25}),(0,r.Wm)(s,{color:"#202020"}),null!==e.stlBuffer?((0,r.wg)(),(0,r.j4)(c,{key:[e.stlBuffer,e.color,e.doubleSided],model:e.stlBuffer,color:e.color,doubleSided:e.doubleSided},null,8,["model","color","doubleSided"])):(0,r.kq)("",!0),(0,r.Wm)(p,{size:1e6})]})),_:1})]})),_:1})])}var he=n(2904),fe=n(3398),me=(0,r.aZ)({extends:he.Tm,props:{size:{type:Number}},mounted:function(){var e=new fe.y8_(this.size);this.initObject3D(e)}}),ge=n(8281),ye=(0,r.aZ)({extends:he.Kj,props:{model:{type:ArrayBuffer,required:!0},color:{type:String,default:"#ffffff"},doubleSided:{type:Boolean,default:!1}},setup:function(e){var t=new ge.j,n=t.parse(e.model);return{geometry:n,material:new fe.Wid({color:e.color,side:e.doubleSided?fe.ehD:fe.Wl3})}}}),ve=(0,r.aZ)({components:{Renderer:he.Th,Camera:he.V1,Scene:he.xs,AmbientLight:he.Mi,PointLight:he.ce,StlMesh:ye,AxesHelper:me},props:{stl:{type:Object},color:{type:String,default:"#ffffff"},doubleSided:{type:Boolean,default:!1}},computed:{stlBuffer:function(){return"undefined"===typeof this.stl||null===this.stl?null:this.stl.buffer.slice(this.stl.byteOffset,this.stl.byteLength+this.stl.byteOffset)}}});const we=(0,s.Z)(ve,[["render",de]]);var xe=we,be={key:0,open:""};function _e(e,t,n,o,u,a){return(0,r.wg)(),(0,r.j4)(r.lR,{to:e.teleportTo,disabled:e.noTeleport},[(0,r.Wm)(i.uT,{appear:"",name:"modal-slide-fade"},{default:(0,r.w5)((function(){return[e.show?((0,r.wg)(),(0,r.iD)("dialog",be,[(0,r._)("article",null,[(0,r._)("header",null,[(0,r._)("h3",null,[(0,r.WI)(e.$slots,"title",{},void 0,!0)]),(0,r._)("button",{type:"button",class:"btn-close-icon","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("close")})})]),(0,r._)("main",null,[(0,r.WI)(e.$slots,"body",{},void 0,!0)]),(0,r._)("footer",null,[(0,r.WI)(e.$slots,"footer",{},(function(){return[(0,r._)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=function(t){return e.$emit("close")})},"Close")]}),!0)])])])):(0,r.kq)("",!0)]})),_:3})],8,["to","disabled"])}var Ee=(0,r.aZ)({props:{teleportTo:{type:String,default:"body"},noTeleport:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},emits:["close"]});const ke=(0,s.Z)(Ee,[["render",_e],["__scopeId","data-v-30a403d4"]]);var ze=ke,We=n(4958),Se=(0,r.aZ)({components:{GeneratorSettings:ce,StlViewer:xe,ModalWindow:ze},data:function(){return{file:null,xExpression:"0",yExpression:"x/10",zExpression:"(h-y-1)/10",imageWidth:void 0,imageHeight:void 0,imageData:void 0,showSizeWarningModal:!1,wasm:null,lithophane:null,showLithophane:!1,generated_expressions:null,preview:null}},computed:{previewWidth:function(){return"undefined"!==typeof this.imageWidth?this.imageWidth:500},previewHeight:function(){return"undefined"!==typeof this.imageHeight?this.imageHeight:500},expressionsChanged:function(){return null===this.generated_expressions||this.xExpression!==this.generated_expressions[0]||this.yExpression!==this.generated_expressions[1]||this.zExpression!==this.generated_expressions[2]},showLithophaneAfterChange:function(){return null!==this.lithophane&&!this.expressionsChanged},stlModel:function(){return this.showLithophane?this.lithophane:this.preview},stlColor:function(){return this.showLithophane?"#ffffff":"#0000ff"},stlDoubleSided:function(){return!this.showLithophane},lithophaneUrl:function(){return null===this.lithophane?null:URL.createObjectURL(new Blob([this.lithophane],{type:"application/sla"}))},lithophaneSize:function(){if("undefined"===typeof this.imageWidth||"undefined"===typeof this.imageHeight)return null;var e=this.imageWidth-1,t=this.imageHeight-1;return 2*(e*t*2+2*e+2*t)*50+84}},methods:{loadFile:function(e){var t,n,i=this;if(e.target instanceof HTMLInputElement)if(1===(null===(t=e.target)||void 0===t||null===(n=t.files)||void 0===n?void 0:n.length)){var r=e.target.files[0],o=new FileReader;o.onerror=function(e){alert("Error reading file: ".concat(e))},o.onload=function(e){j(null!==e.target&&e.target.result instanceof ArrayBuffer),j(null!==i.wasm),i.imageData=new Uint8Array(e.target.result);var t=i.wasm.get_image_dimensions(i.imageData);i.imageWidth=t.width,i.imageHeight=t.height,i.imageWidth*i.imageHeight>1e6&&(i.showSizeWarningModal=!0),t.free(),i.generatePreview(100),i.file=r,i.lithophane=null},o.readAsArrayBuffer(r)}else this.imageWidth=void 0,this.imageHeight=void 0},generateLithophane:function(){if(null!==this.file)if(this.imageData){j(null!==this.wasm);try{var e=this.wasm.generate_lithophane(this.xExpression,this.yExpression,this.zExpression,this.imageData,.5,3);this.lithophane=e,this.generated_expressions=[this.xExpression,this.yExpression,this.zExpression],this.showLithophane=!0}catch(t){console.error(t),"object"===(0,b.Z)(t)&&null!==t&&T(t,"message")&&alert(t.message)}}else alert("file not read");else alert("select a file")},generatePreview:function(e){if(this.preview=null,null!==this.wasm){var t=Math.ceil(Math.max(this.previewWidth,this.previewHeight)/e);try{this.preview=this.wasm.generate_preview(this.xExpression,this.yExpression,this.zExpression,this.previewWidth,this.previewHeight,t),this.showLithophane=!1}catch(n){console.error(n)}}},maybeShowLithophane:function(){this.showLithophaneAfterChange&&(this.showLithophane=!0)},prettyBytes:We.Z},watch:{xExpression:function(){this.generatePreview(20)},yExpression:function(){this.generatePreview(20)},zExpression:function(){this.generatePreview(20)}},mounted:function(){var e=this;n.e(694).then(n.bind(n,8694)).then((function(t){t.init(),e.wasm=t,e.generatePreview(100)})).catch(console.error)}});const Ue=(0,s.Z)(Se,[["render",x],["__scopeId","data-v-0767390c"]]);var Pe=Ue,Re=[{path:"/",name:"home",component:Pe},{path:"/about",name:"about",component:function(){return n.e(443).then(n.bind(n,1676))}}],Le=(0,h.p7)({history:(0,h.r5)(),routes:Re}),He=Le;fe.Tme.DEFAULT_UP=new fe.Pa4(0,0,1),(0,i.ri)(d).use(He).mount("body")}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i](o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=function(e){e&&!e.d&&(e.d=1,e.forEach((function(e){e.r--})),e.forEach((function(e){e.r--?e.r++:e()})))},o=function(n){return n.map((function(n){if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var o=[];o.d=0,n.then((function(e){u[t]=e,r(o)}),(function(e){u[i]=e,r(o)}));var u={};return u[e]=function(e){e(o)},u}}var a={};return a[e]=function(){},a[t]=n,a}))};n.a=function(n,u,a){var l;a&&((l=[]).d=1);var s,c,p,d=new Set,h=n.exports,f=new Promise((function(e,t){p=t,c=e}));f[t]=h,f[e]=function(e){l&&e(l),d.forEach(e),f["catch"]((function(){}))},n.exports=f,u((function(n){var r;s=o(n);var u=function(){return s.map((function(e){if(e[i])throw e[i];return e[t]}))},a=new Promise((function(t){r=function(){t(u)},r.r=0;var n=function(e){e!==l&&!d.has(e)&&(d.add(e),e&&!e.d&&(r.r++,e.push(r)))};s.map((function(t){t[e](n)}))}));return r.r?a:u()}),(function(e){e?p(f[i]=e):c(h),r(l)})),l&&(l.d=0)}}(),function(){var e=[];n.O=function(t,i,r,o){if(!i){var u=1/0;for(c=0;c<e.length;c++){i=e[c][0],r=e[c][1],o=e[c][2];for(var a=!0,l=0;l<i.length;l++)(!1&o||u>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(a=!1,o<u&&(u=o));if(a){e.splice(c--,1);var s=r();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+(443===e?"about":e)+"-legacy."+{443:"7fb6b34d",694:"4c39efe5"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="lithophane-generator-vue:";n.l=function(i,r,o,u){if(e[i])e[i].push(r);else{var a,l;if(void 0!==o)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var p=s[c];if(p.getAttribute("src")==i||p.getAttribute("data-webpack")==t+o){a=p;break}}a||(l=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=i),e[i]=[r];var d=function(t,n){a.onerror=a.onload=null,clearTimeout(h);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.v=function(e,t,i,r){var o=fetch(n.p+""+i+".module.wasm");return"function"===typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((function(t){return Object.assign(e,t.instance.exports)})):o.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,r)})).then((function(t){return Object.assign(e,t.instance.exports)}))}}(),function(){n.p="/"}(),function(){var e={826:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=o);var u=n.p+n.u(t),a=new Error,l=function(i){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),u=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+u+")",a.name="ChunkLoadError",a.type=o,a.request=u,r[1](a)}};n.l(u,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,o,u=i[0],a=i[1],l=i[2],s=0;if(u.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var c=l(n)}for(t&&t(i);s<u.length;s++)o=u[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},i=self["webpackChunklithophane_generator_vue"]=self["webpackChunklithophane_generator_vue"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(2478)}));i=n.O(i)})();
//# sourceMappingURL=index-legacy.083fbb53.js.map